<!doctype html>
<html lang="id">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
		/>
		<title>Dear Desy</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			body {
				overflow: auto;
				min-height: 100vh;
				touch-action: manipulation;
			}
			.valentine-bg {
				background: linear-gradient(
					135deg,
					#ec4899 0%,
					#f472b6 25%,
					#fbcfe8 50%,
					#fce7f3 75%,
					#fdf2f8 100%
				);
				min-height: 100vh;
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 1rem;
			}
			.card-container {
				background: rgba(255, 255, 255, 0.95);
				backdrop-filter: blur(10px);
				border-radius: 1.5rem;
				box-shadow: 0 20px 60px rgba(236, 72, 153, 0.3);
				padding: 1.5rem 1rem;
				max-width: 500px;
				width: 100%;
				text-align: center;
				z-index: 10;
				position: relative;
				min-height: auto;
			}
			@media (min-width: 640px) {
				.card-container {
					padding: 2.5rem 2rem;
					border-radius: 2rem;
				}
			}
			.buttons-group {
				display: flex;
				gap: 1rem;
				flex-wrap: wrap;
				justify-content: center;
			}
			button {
				transition: all 0.3s ease;
			}
			.response-text {
				animation: fadeInText 1.5s ease-in-out forwards;
			}
			@keyframes fadeInText {
				from {
					opacity: 0;
					transform: translateY(-10px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}
			/* Start Modal Styles */
			#startModal {
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background: rgba(255, 255, 255, 0.95);
				z-index: 100;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			.start-container {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				padding: 2rem;
				border-radius: 1.5rem;
				box-shadow: 0 20px 60px rgba(236, 72, 153, 0.3);
				background: white;
				text-align: center;
			}
			.start-container h2 {
				margin-bottom: 1rem;
				color: #ec4899;
			}
			.start-container p {
				margin-bottom: 2rem;
				color: #4b5563;
			}
			.start-container button {
				padding: 0.75rem 1.5rem;
				font-size: 1.125rem;
				font-weight: bold;
				color: white;
				background: linear-gradient(to right, #ec4899, #f472b6);
				border: none;
				border-radius: 0.75rem;
				cursor: pointer;
				transition: transform 0.3s;
			}
			.start-container button:hover {
				transform: scale(1.05);
			}
		</style>
	</head>
	<body>
		<!-- Start Modal -->
		<audio id="bgMusic" autoplay loop style="display: none">
			<source
				src="./paulyudin-romantic-adventure-182516.mp3"
				type="audio/mpeg"
			/>
		</audio>
		<div
			id="startModal"
			style="
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background: rgba(255, 255, 255, 0.95);
				z-index: 100;
				display: flex;
				align-items: center;
				justify-content: center;
			"
		>
			<div class="flex flex-col items-center justify-center p-8">
				<h2 class="text-3xl md:text-5xl font-bold text-pink-600 mb-6">
					Hi Beb!
				</h2>
				<p class="text-lg md:text-2xl text-gray-700 mb-8 text-center">
					Happy Valentine dan semoga kamu suka dengan hadiah kecil ini. Klik
					tombol di bawah untuk memulai.
				</p>
				<button
					id="startBtn"
					class="py-3 px-8 text-xl bg-gradient-to-r from-rose-500 to-pink-500 text-white font-bold rounded-xl shadow-lg hover:scale-105 transition"
				>
					Mulai ğŸ’–
				</button>
			</div>
		</div>
		<div class="valentine-bg" id="mainApp" style="display: none">
			<div class="card-container">
				<h1 class="text-3xl md:text-5xl font-bold text-red-600 mb-4 md:mb-5">
					Selamat Hari Valentine â¤ï¸
				</h1>
				<p
					class="text-base md:text-2xl text-gray-700 mb-5 md:mb-7 leading-relaxed"
				>
					Aku tahu Valentine kali ini kehadiranku tidak ada di sisimu,<br />
					tapi aku yakin cintaku tetap untukmu.<br />
					Happy Valentine dari aku <span class="text-5xl md:text-6xl">ğŸ¨</span>
				</p>

				<!-- Question Container -->
				<div id="questionContainer" class="mb-5 md:mb-7">
					<p
						id="currentQuestion"
						class="font-semibold text-gray-800 mb-5 md:mb-7 text-lg md:text-2xl leading-relaxed"
					>
						Apakah kamu menerima hadiah Valentine ini?
					</p>

					<!-- Response -->
					<div
						id="response"
						class="my-5 md:my-7 text-lg md:text-2xl font-semibold text-pink-600"
					></div>

					<!-- Answer Button -->
					<div class="buttons-group flex flex-col gap-3 items-stretch">
						<button
							id="continueBtn"
							onclick="answerQuestion()"
							class="w-full py-3 md:py-4 px-4 md:px-6 text-lg md:text-xl bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white font-bold rounded-lg md:rounded-xl transition duration-300 transform hover:scale-105 shadow-lg"
						>
							Lanjut ğŸ’•
						</button>
						<button
							id="rejectBtn"
							onclick="rejectMessage()"
							class="w-full py-3 md:py-4 px-4 md:px-6 text-lg md:text-xl bg-gray-300 text-gray-500 font-bold rounded-lg md:rounded-xl transition duration-300 shadow-md hover:bg-gray-400 hover:text-gray-700 cursor-pointer opacity-90"
						>
							Tolak ğŸš«
						</button>
						<script>
							function rejectMessage() {
								const responseDiv = document.getElementById("response");
								responseDiv.innerHTML = `<div class="response-text">Maaf ya, aku benar-benar ingin memperbaiki semuanya. Yuk klik lanjut.</div>`;
							}
						</script>
					</div>
				</div>
			</div>
		</div>

		<script>
			const questions = [
				{
					question: "Aku tahu aku salah... Maukah kamu dengar aku?",
					message: "Terima kasih sudah mau mendengarkan ğŸ’™",
				},
				{
					question: "Aku benar-benar menyesal dengan semua yang aku lakukan",
					message: "Maafmu berarti dunia bagiku ğŸ™",
				},
				{
					question: "Kamu sangat berharga bagiku, percayakah kamu itu?",
					message: "Aku janji akan lebih baik untukmu ğŸ’ª",
				},
				{
					question: "Bisakah kita mulai dari awal? Bersama lagi?",
					message: "Terima kasih telah memberi aku kesempatan kedua ğŸŒ¹",
				},
				{
					question: "Apakah kamu mau melewati ini bersama aku?",
					message: "Cintaku untuk mu tidak akan pernah berubah â¤ï¸",
				},
			];

			let currentQuestionIndex = 0;
			let isAnswered = false;
			let isShowingFinalMessage = false;

			function answerQuestion() {
				if (isAnswered) return; // Prevent multiple clicks

				isAnswered = true;
				const btn = document.getElementById("continueBtn");
				btn.disabled = true;
				btn.style.opacity = "0.6";
				btn.style.cursor = "not-allowed";

				const question = questions[currentQuestionIndex];

				// Animate out both question and answer
				const responseDiv = document.getElementById("response");
				const questionElem = document.getElementById("currentQuestion");
				responseDiv.classList.remove("response-text");
				questionElem.classList.remove("response-text");
				responseDiv.style.opacity = 1;
				questionElem.style.opacity = 1;
				// Add fade out
				responseDiv.style.transition = "opacity 0.5s";
				questionElem.style.transition = "opacity 0.5s";
				responseDiv.style.opacity = 0;
				questionElem.style.opacity = 0;
				const fadeDuration = 500;
				setTimeout(() => {
					if (currentQuestionIndex < questions.length - 1) {
						// Normal question flow
						currentQuestionIndex++;
						questionElem.innerText = questions[currentQuestionIndex].question;
						questionElem.style.transition = "opacity 1s";
						questionElem.style.opacity = 1;
						questionElem.classList.add("response-text");
						setTimeout(() => {
							responseDiv.innerHTML = `<div>${questions[currentQuestionIndex].message}</div>`;
							responseDiv.style.transition = "opacity 0.8s";
							responseDiv.style.opacity = 1;
							responseDiv.classList.add("response-text");
							setTimeout(() => {
								btn.disabled = false;
								btn.style.opacity = "1";
								btn.style.cursor = "pointer";
								isAnswered = false;
							}, 800);
						}, 1000);
					} else {
						// Show final message immediately after last answer animation
						questionElem.style.display = "none";
						btn.style.display = "none";
						responseDiv.style.transition = "opacity 1.5s";
						responseDiv.style.opacity = 1;
						responseDiv.innerHTML = `<div class=\"text-center response-text\" style=\"opacity:0;\">
								<p class=\"text-2xl md:text-4xl mb-3 md:mb-5\">Aku benar-benar menyesal ğŸ’”</p>
								<p class=\"text-xl md:text-2xl mb-2 md:mb-4\">Terima kasih telah mendengarkan permintaan maafku...</p>
								<p class=\"mt-3 md:mt-5 text-base md:text-xl text-gray-600\">Aku akan buktikan bahwa aku bisa berubah untuk mu ğŸ’™</p>
								<button onclick=\"location.reload()\" class=\"mt-4 md:mt-6 bg-pink-500 hover:bg-pink-600 text-white font-medium py-3 md:py-4 px-6 md:px-8 text-lg md:text-2xl rounded-lg\">
									Ulang Lagi ğŸ”„
								</button>
							</div>`;
						// Fade in the final message
						setTimeout(() => {
							const finalDiv = responseDiv.querySelector(".response-text");
							if (finalDiv) finalDiv.style.transition = "opacity 1.5s";
							if (finalDiv) finalDiv.style.opacity = 1;
						}, 50);
						// Hide reject button if present
						const rejectBtn = document.getElementById("rejectBtn");
						if (rejectBtn) rejectBtn.style.display = "none";
					}
				}, fadeDuration);
			}

			function loadQuestion() {
				const question = questions[currentQuestionIndex];
				const questionElem = document.getElementById("currentQuestion");
				// Animate question text
				questionElem.classList.remove("response-text");
				// Wait for reflow to restart animation
				void questionElem.offsetWidth;
				questionElem.innerText = question.question;
				questionElem.classList.add("response-text");

				// Reset button state
				isAnswered = false;
				const btn = document.getElementById("continueBtn");
				btn.disabled = false;
				btn.style.opacity = "1";
				btn.style.cursor = "pointer";
			} // Start the game with the first question
			window.addEventListener("load", () => {
				// Hide main app initially
				document.getElementById("mainApp").style.display = "none";
				// Modal logic
				const startModal = document.getElementById("startModal");
				const startBtn = document.getElementById("startBtn");
				const bgMusic = document.getElementById("bgMusic");
				startBtn.addEventListener("click", () => {
					startModal.style.display = "none";
					document.getElementById("mainApp").style.display = "flex";
					if (bgMusic && bgMusic.paused) {
						bgMusic.play().catch(() => {});
					}
					loadQuestion();
				});
			});

			// Start button functionality
			document.getElementById("startBtn").addEventListener("click", () => {
				// Hide start modal
				document.getElementById("startModal").style.display = "none";
				// Show main app
				document.getElementById("mainApp").style.display = "block";
				// Play background music
				const bgMusic = document.getElementById("bgMusic");
				bgMusic.play().catch((err) => {
					console.log("Music play failed:", err);
				});
			});
		</script>
	</body>
</html>
